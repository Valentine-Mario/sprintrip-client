<div class="container">
  <button (click)="open(content2)">Send Invite</button>
    <div *ngIf="invited_users.body.message.length < 1">
        There are no supervisors. send an invite now to properly manage your comapny bookings
    </div>
    <div *ngIf="invited_users.body.message.length > 0">
        <div class="row">
            <div *ngFor="let a of invited_users.body.message| paginate: {id:'invite', itemsPerPage: 15, currentPage: p}" class="col-lg-4">
              <div class="card card-20201">
                
                <div class="card-body">
                  <h5 class="card-title">{{a.name}} </h5>
                    <p>{{a.email}}</p><div *ngIf="!invited_acc"><button (click)="select(a); open(content)">delete</button><button (click)="select(a); open(content3);">Modify</button></div> 
                </div>
              </div>
            </div>   
          </div>
          <br/>
          <div align="center"><pagination-controls id="invite"  (pageChange)="p = $event;"></pagination-controls></div> 
        
    </div>
</div>

<!-- delete invited user modal -->
<ng-template #content let-modal>
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div align="center" class="modal-body">
      <div *ngIf="spin" class="spinner-grow" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <h2>Are you sure you want to delete this user</h2>
       <button (click)="modal.dismiss('Cross click')">No</button> <button (click)="deleteInvitedUser()">Yes</button>
  </div>
</ng-template>


<!-- send invite -->
<ng-template #content2 let-modal>
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div align="center" class="modal-body">
      <div *ngIf="spin" class="spinner-grow" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <h2>Send invite</h2>
        <form [formGroup]="inviteForm" (ngSubmit)="sendInvite();">
          <label>Email</label>
          <input formControlName="email" type="text" placeholder="email" class="form-control">
          <button [disabled]="inviteForm.invalid" class="btn btn-primary">Submit</button>
        </form>
  </div>
</ng-template>

<!-- edit user acess modal -->
<ng-template #content3 let-modal>
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div align="center" class="modal-body">
      <div *ngIf="spin" class="spinner-grow" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <h2>Modify Access (this would also affect this user booking limit)</h2>
        <form [formGroup]="modifyAcessForm" (ngSubmit)="ModifyUserAcess();">
          <label>Restrict access</label>
          <select formControlName="limit" class="form-control" name="limit">
            <option value="">Select Options</option>
            <option value='Yes'>Always</option>
            <option value='No'>Never</option>
            <option value="Sometimes">Sometimes</option>
          </select>
          <p>Fill in price limit if Sometimes is selected</p>
          <input formControlName="limit_amount" type="text" placeholder="name of group" class="form-control">
          <button [disabled]="modifyAcessForm.invalid" class="btn btn-primary">Submit</button>
        </form>
  </div>
</ng-template>